<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href = "{{url_for('static', filename='user_page/user_page.css')}}" >
    <title>{{ account.login }}</title>
</head>
<body>
    <div class = "hat">
        <img class ="toplogo" src = "/static/user_page/Logo.png">
        <div class = "search_people">
            <a href = "{{url_for('for_find_friends', id = account.id)}}"><img src = "/static/user_page/free-icon-job-search-875753.svg">  поиск друзей </a>
        </div>
        <div class = "sota_hat">S.O.T.A</div>
        <div class = "hat_info_user">
            <img src = "/static/user_page/strelka.svg" class = "strelka" onclick="for_redactor_menu()">
            <div> {{ account.login }} </div>
            <img src= "{{account.avatar}}" alt = "userAvatar" class = 'avatar'>
            <div class = "redactor_menu" id="redactor_menu">
                <a href="{{url_for('settings', id = account.id)}}">
                    <svg aria-label="Параметры" class="_8-yf5 " fill="#262626" height="24" viewBox="0 0 48 48" width="24"><path clip-rule="evenodd" d="M46.7 20.6l-2.1-1.1c-.4-.2-.7-.5-.8-1-.5-1.6-1.1-3.2-1.9-4.7-.2-.4-.3-.8-.1-1.2l.8-2.3c.2-.5 0-1.1-.4-1.5l-2.9-2.9c-.4-.4-1-.5-1.5-.4l-2.3.8c-.4.1-.8.1-1.2-.1-1.4-.8-3-1.5-4.6-1.9-.4-.1-.8-.4-1-.8l-1.1-2.2c-.3-.5-.8-.8-1.3-.8h-4.1c-.6 0-1.1.3-1.3.8l-1.1 2.2c-.2.4-.5.7-1 .8-1.6.5-3.2 1.1-4.6 1.9-.4.2-.8.3-1.2.1l-2.3-.8c-.5-.2-1.1 0-1.5.4L5.9 8.8c-.4.4-.5 1-.4 1.5l.8 2.3c.1.4.1.8-.1 1.2-.8 1.5-1.5 3-1.9 4.7-.1.4-.4.8-.8 1l-2.1 1.1c-.5.3-.8.8-.8 1.3V26c0 .6.3 1.1.8 1.3l2.1 1.1c.4.2.7.5.8 1 .5 1.6 1.1 3.2 1.9 4.7.2.4.3.8.1 1.2l-.8 2.3c-.2.5 0 1.1.4 1.5L8.8 42c.4.4 1 .5 1.5.4l2.3-.8c.4-.1.8-.1 1.2.1 1.4.8 3 1.5 4.6 1.9.4.1.8.4 1 .8l1.1 2.2c.3.5.8.8 1.3.8h4.1c.6 0 1.1-.3 1.3-.8l1.1-2.2c.2-.4.5-.7 1-.8 1.6-.5 3.2-1.1 4.6-1.9.4-.2.8-.3 1.2-.1l2.3.8c.5.2 1.1 0 1.5-.4l2.9-2.9c.4-.4.5-1 .4-1.5l-.8-2.3c-.1-.4-.1-.8.1-1.2.8-1.5 1.5-3 1.9-4.7.1-.4.4-.8.8-1l2.1-1.1c.5-.3.8-.8.8-1.3v-4.1c.4-.5.1-1.1-.4-1.3zM24 41.5c-9.7 0-17.5-7.8-17.5-17.5S14.3 6.5 24 6.5 41.5 14.3 41.5 24 33.7 41.5 24 41.5z" fill-rule="evenodd"></path></svg>
                    Настройка
                </a>
                <a href="{{url_for('logout')}}">
                    <img src = "/static/user_page/log_out.svg">
                    Выход
                </a>
            </div>
            <script>
                function for_redactor_menu(){
                    document.getElementById("redactor_menu").classList.toggle("show");
                }
                window.onclick= function (event){
                        if ( !event.target.matches('.strelka') && !event.target.matches('.redactor_menu') ) {
                            document.getElementById("redactor_menu").classList.remove("show");
                        }
                    }
            </script>
        </div>
    </div>
    <div class = "main_part_page">
        <div class = "func_list">
            <a href="{{url_for('for_news', id = account.id)}}">
                <svg width="20" height="20" viewBox="0 0 20 20"><g id="newsfeed_outline_20__Icons" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="newsfeed_outline_20__Icons-20/newsfeed_outline_20"><g id="newsfeed_outline_20__newsfeed_outline_20"><path opacity=".04" d="M0 0h20v20H0z"></path><path d="M13.08 2c1.44 0 2.14.13 2.86.52a3.7 3.7 0 011.54 1.54c.39.72.52 1.42.52 2.86v6.16c0 1.44-.13 2.14-.52 2.86a3.7 3.7 0 01-1.54 1.54c-.72.39-1.42.52-2.86.52H6.92c-1.44 0-2.14-.13-2.86-.52a3.7 3.7 0 01-1.54-1.54c-.39-.72-.52-1.42-.52-2.86V6.92c0-1.44.13-2.14.52-2.86a3.7 3.7 0 011.54-1.54C4.78 2.13 5.48 2 6.92 2h6.16zm3.42 6h-13v5.08c0 1.21.09 1.68.35 2.15.2.4.52.71.92.92.47.26.94.35 2.15.35h6.16c1.21 0 1.68-.09 2.15-.35.4-.2.71-.52.92-.92.26-.47.35-.94.35-2.15V8zm-3.42-4.5H6.92c-1.21 0-1.68.09-2.15.35-.4.2-.71.52-.92.92-.23.42-.33.82-.35 1.73h13a3.48 3.48 0 00-.35-1.73 2.2 2.2 0 00-.92-.92c-.47-.26-.94-.35-2.15-.35z" id="newsfeed_outline_20__Icon-Color" fill="currentColor" fill-rule="nonzero"></path></g></g></g></svg>
                Новости
            </a>
            <a href="{{url_for('user_page', id = account.id)}}">
                <svg fill="none" height="20" viewBox="0 0 20 20" width="20" ><path clip-rule="evenodd" d="M5.84 15.63a6.97 6.97 0 008.32 0 8.2 8.2 0 00-8.32 0zM4.7 14.57a7 7 0 1110.6 0 9.7 9.7 0 00-10.6 0zM10 1.5a8.5 8.5 0 100 17 8.5 8.5 0 000-17zm-1.5 7a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0zm1.5-3a3 3 0 100 6 3 3 0 000-6z" fill="currentColor" fill-rule="evenodd"></path></svg>
                Моя страница
            </a>
            <a href="{{url_for('for_messanges', id = account.id)}}">
                <svg width="20" height="20" viewBox="0 0 20 20"><g id="message_outline_20__Page-2" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="message_outline_20__message_outline_20"><path id="message_outline_20__Shape" opacity=".4" d="M0 0h20v20H0z"></path><path d="M6.83 15.75c.2-.23.53-.31.82-.2.81.3 1.7.45 2.6.45 3.77 0 6.75-2.7 6.75-6s-2.98-6-6.75-6S3.5 6.7 3.5 10c0 1.21.4 2.37 1.14 3.35.1.14.16.31.15.49-.04.76-.4 1.78-1.08 3.13 1.48-.11 2.5-.53 3.12-1.22zM3.24 18.5a1.2 1.2 0 01-1.1-1.77A10.77 10.77 0 003.26 14 7 7 0 012 10c0-4.17 3.68-7.5 8.25-7.5S18.5 5.83 18.5 10s-3.68 7.5-8.25 7.5c-.92 0-1.81-.13-2.66-.4-1 .89-2.46 1.34-4.35 1.4z" id="message_outline_20__Icon-Color" fill="currentColor" fill-rule="nonzero"></path></g></g></svg>
                Сообщения
            </a>
            <a href="{{url_for('for_following', id = account.id)}}">
                <svg fill="none" height="20" viewBox="0 0 20 20" width="20"><g fill="currentColor"><g clip-rule="evenodd" fill-rule="evenodd"><path d="M6.25 3.5a3 3 0 100 6 3 3 0 000-6zm-1.5 3a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0zM2.69 11.57c.96-.55 2.22-.82 3.56-.82s2.6.27 3.56.82c.98.56 1.69 1.47 1.69 2.68 0 .7-.28 1.3-.78 1.71-.48.39-1.1.54-1.72.54H3.5c-.61 0-1.24-.15-1.72-.54-.5-.4-.78-1-.78-1.71 0-1.21.71-2.12 1.69-2.68zm.75 1.3c-.65.37-.94.84-.94 1.38 0 .3.1.44.22.54.14.11.4.21.78.21H9c.39 0 .64-.1.78-.21.12-.1.22-.25.22-.54 0-.54-.29-1-.94-1.38-.66-.39-1.65-.62-2.81-.62s-2.15.23-2.81.62zM13.75 3.5a3 3 0 100 6 3 3 0 000-6zm-1.5 3a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0z"></path></g><path d="M13.75 12.25c-.23 0-.45.01-.68.03a.75.75 0 11-.14-1.49c.27-.03.54-.04.82-.04 1.34 0 2.6.27 3.56.82.98.56 1.69 1.47 1.69 2.68 0 .7-.28 1.3-.78 1.71-.48.39-1.1.54-1.72.54h-3a.75.75 0 010-1.5h3c.39 0 .64-.1.78-.21.12-.1.22-.25.22-.54 0-.54-.29-1-.94-1.38a5.77 5.77 0 00-2.81-.62z"></path></g></svg>
                Мои подписки
            </a>
            <a href="{{url_for('for_followers', id = account.id)}}">
                <svg fill="none" height="20" viewBox="0 0 20 20" width="20"><path clip-rule="evenodd" d="M10 7.75a1.25 1.25 0 110-2.5 1.25 1.25 0 010 2.5zM7.25 6.5a2.75 2.75 0 115.5 0 2.75 2.75 0 01-5.5 0zm-.5 7.25c0-.42.23-.83.8-1.17A4.81 4.81 0 0110 12c1.03 0 1.88.23 2.45.58.57.34.8.75.8 1.17 0 .3-.1.44-.22.54-.14.11-.4.21-.78.21h-4.5c-.39 0-.64-.1-.78-.21-.12-.1-.22-.25-.22-.54zM10 10.5c-1.22 0-2.37.27-3.23.8-.88.53-1.52 1.37-1.52 2.45 0 .7.28 1.3.78 1.71.48.39 1.1.54 1.72.54h4.5c.61 0 1.24-.15 1.72-.54.5-.4.78-1 .78-1.71 0-1.08-.64-1.92-1.52-2.45-.86-.53-2-.8-3.23-.8zm4-5.59c.06-.4.44-.7.85-.64a2.5 2.5 0 01-.35 4.98.75.75 0 010-1.5 1 1 0 00.14-1.99.75.75 0 01-.63-.85zM15.76 10a.75.75 0 000 1.5c1.16 0 1.75.67 1.75 1.25 0 .22-.07.41-.19.55-.1.12-.24.2-.46.2a.75.75 0 000 1.5c1.43 0 2.15-1.21 2.15-2.25 0-1.71-1.6-2.75-3.25-2.75zM5 10.75a.75.75 0 00-.75-.75C2.61 10 1 11.04 1 12.75 1 13.79 1.72 15 3.15 15a.75.75 0 000-1.5.57.57 0 01-.47-.2.86.86 0 01-.18-.55c0-.58.6-1.25 1.75-1.25.41 0 .75-.34.75-.75zm.14-6.47a.75.75 0 01.22 1.48 1 1 0 00.14 1.99.75.75 0 110 1.5 2.5 2.5 0 01-.36-4.97z" fill="currentColor" fill-rule="evenodd"></path></svg>
                Мои подписчики
            </a>
        </div>
        {% block current_page_content %}
            <div class = "shell_userpage">
                <div class = "userpage">
                    <div class = "userpage_info">
                        <div class = "shell_intro">
                            <div class = "intro">
                                <img src= "{{account.avatar}}" alt = "userAvatar" class = 'main_avatar'>

                                <div id="url_to_intro_form" class = "url_to_intro_form" onclick="for_showing_intro_form()">
                                    <img src = "/static/user_page/free-icon-upload-2206449.svg">
                                    <div class = "url_to_intro_for_js">Изменить фотографию</div>
                                </div>


                                <form id = "get_new_profile_image_menu" class = "get_new_profile_image_menu" action = "/upload_n" method = "post" enctype="multipart/form-data">
                                    <div onclick="document.getElementById('choose_file_profile_image').click();" class = "visible_form_file"> Выбрать фото</div>
                                    <input id = "choose_file_profile_image" class = "url_to_intro_for_js" style="display:none;" type="file" placeholder="Выбрать" name = "img">
                                    <div onclick="document.getElementById('download_profile_image').click()" class="visible_form_file "> Загрузить фото </div>
                                    <input id = "download_profile_image" style="display:none;" type="submit" value="загрузить"></form>

                                <script>
                                    function for_showing_intro_form(){
                                         document.getElementById('get_new_profile_image_menu').style.display="flex";
                                         document.getElementById('url_to_intro_form').classList.add("hide_url_to_intro_form");
                                    }
                                    window.onclick = function (event){
                                        if ( !event.target.matches('.url_to_intro_for_js') && !event.target.matches('.visible_form_file') ){
                                            document.getElementById('get_new_profile_image_menu').style.display="none";
                                            document.getElementById('url_to_intro_form').classList.remove("hide_url_to_intro_form");
                                        }
                                    }
                                </script>

                                <div> {{ account.login }} </div>
                            </div>
                        </div>
                        <div class = "shell_userpage_stats">
                            <div class = "userpage_stat">

                                <div class = "top_stats">
                                    <div class = "withIcon"><img src = "/static/user_page/status.svg">Статус:</div><div class = "withIcon">Футбольчик мальчики походят на качков</div>
                                    <div class = "withIcon"><img src = "/static/user_page/free-icon-birthday-invitation-593793.svg"> Дата рождения:</div><div>20.09.2002</div>
                                    <div class = "withIcon"><img src = "/static/user_page/free-icon-country-map-2509686.svg">Страна:</div><div>Россия</div>
                                </div>

                                <div class = "bottom_stats">
                                    <a href = "">
                                        <img src = "/static/user_page/free-icon-followers-1177444.svg">
                                        0 подписчиков
                                    </a>
                                    <a href = "">
                                        <img src = "/static/user_page/free-icon-subscribe-4264955.svg">
                                        0 подписок
                                    </a>
                                    <a href = "">
                                        <img src = "/static/user_page/free-icon-publication-4336288.svg">
                                        0 публикаций
                                    </a>
                                </div>
                                <div class = "add_post">
                                    <img src = "/static/user_page/line.svg">
                                    <div class = "src_for_add_post" onclick="show_add_block_post()">
                                        <img src = "/static/user_page/free-icon-add-file-1323942.svg">
                                        Добавить новый пост
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class = "posts">
                        <div id = "shell_for_add_post_block" class = "shell_for_add_post_block">
                            <div class = "add_block_post">
                                <div class = "hat_add_block_post">
                                    <h1> Введите текст поста </h1>
                                    <img src = "/static/user_page/free-icon-error-148766.svg" onclick="close_add_block_post()">
                                </div>
                                <form action="{{url_for('add_post', id = account.id)}}" method = "post">
                                    <textarea " autofocus name = "text_post" onclick="fix_textarea(this)" ></textarea>
                                    <input type ="submit" value="Добавить пост"></input>
                                </form>
                            </div>
                        </div>

                        <script>
                            function show_add_block_post(){
                                document.getElementById("shell_for_add_post_block").classList.toggle("show_add_post_block");
                            }
                            function close_add_block_post(){
                                document.getElementById("shell_for_add_post_block").classList.remove("show_add_post_block");
                            }
                        </script>

                    {% for row in posts %}
                        <div class = "shell_post">
                            <div class = "one_post">
                                <div class = "info_post">
                                    <div>
                                        <img src = {{row[0]}} alt = "log">
                                        {{ row[1] }}
                                    </div>
                                    <div>{{row[2] }}</div>
                                </div>
                                <div class = "text_post">
                                    {{ row[3] }}
                                    <img src = "/static/user_page/line.svg">
                                </div>
                                <div class = likes_and_comments>
                                    <svg id = "{{ row[4] }}_like"  class="like" onclick="click_like(this.id)" fill="#bababa" height="22" viewBox="0 0 48 48" width="22"><path d="M34.6 6.1c5.7 0 10.4 5.2 10.4 11.5 0 6.8-5.9 11-11.5 16S25 41.3 24 41.9c-1.1-.7-4.7-4-9.5-8.3-5.7-5-11.5-9.2-11.5-16C3 11.3 7.7 6.1 13.4 6.1c4.2 0 6.5 2 8.1 4.3 1.9 2.6 2.2 3.9 2.5 3.9.3 0 .6-1.3 2.5-3.9 1.6-2.3 3.9-4.3 8.1-4.3m0-3c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5.6 0 1.1-.2 1.6-.5 1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"></path></svg>
                                    <div class = "count">0</div>
                                    <div id = "{{ row[4] }}_post" class ="url_to_comment" onclick="show_comment_block(this.id)">
                                        <svg fill="#bababa" height="24" viewBox="0 0 48 48" width="24"><path clip-rule="evenodd" d="M47.5 46.1l-2.8-11c1.8-3.3 2.8-7.1 2.8-11.1C47.5 11 37 .5 24 .5S.5 11 .5 24 11 47.5 24 47.5c4 0 7.8-1 11.1-2.8l11 2.8c.8.2 1.6-.6 1.4-1.4zm-3-22.1c0 4-1 7-2.6 10-.2.4-.3.9-.2 1.4l2.1 8.4-8.3-2.1c-.5-.1-1-.1-1.4.2-1.8 1-5.2 2.6-10 2.6-11.4 0-20.6-9.2-20.6-20.5S12.7 3.5 24 3.5 44.5 12.7 44.5 24z" fill-rule="evenodd"></path></svg>
                                        Показать комментарии
                                    </div>

                                    <script>
                                        function show_comment_block(post_id){
                                            document.getElementById(post_id).parentNode.parentNode.parentNode.children[1].classList.toggle("show_comment_list");
                                        }
                                    </script>

                                </div>
                            </div>
                            
                            <div class = "list_comment">
                                <div class = "comment_zone">
                                    {% for com in row[4] %}
                                    <div class = "one_comment">
                                        <div class = "author_of_commet">
                                            <img src = "{{ com[0] }}" alt = "log">
                                            {{ com[1] }}
                                            <div class = date_of_comment>
                                                    {{ com[2] }}
                                            </div>
                                        </div>
                                        <div class = "text_of_comment">
                                            {{ com[3] }}
                                        </div>
                                    </div>
                                    {% endfor %}
                                </div>
                            </div>
                        </div>
                    {% endfor %}

                        <script>
                            function click_like(value){
                                document.getElementById(value).classList.toggle("likeRed");
                            }
                        </script>


                    </div>
                </div>
            </div>

        {% endblock %}
    </div>
</body>
</html>